@page
@model DeletePersonalDataModel
@{
	// Layout is set by _ViewStart.cshtml
	ViewData["Title"] = "Delete Personal Data";
	ViewData["ActivePage"] = ManageNavPages.PersonalData; // Active page remains PersonalData
}

<div class="container-fluid mt-4">
	<div class="row">
		
		<div class="col-lg-3 col-md-4 mb-4">
			<h4 class="mb-3 text-primary">Account Settings</h4>
			<partial name="_ManageNav" />
		</div>

		
		<div class="col-lg-9 col-md-8">
			<h3 class="mb-4 display-6">@ViewData["Title"]</h3>

			<div class="card shadow-sm border-0 rounded-lg">
				<div class="card-header bg-danger text-white py-3 rounded-top-lg">
					<h5 class="card-title mb-0">Permanent Account Deletion</h5>
				</div>
				<div class="card-body">
					<div class="alert alert-warning border-warning rounded-md mb-4" role="alert">
						<p class="mb-0">
							<i class="ri-alert-line me-2"></i>
							<strong>Warning:</strong> Deleting this data will permanently remove your account, and this cannot be recovered.
						</p>
					</div>

					<form id="delete-user" method="post">
						<div asp-validation-summary="ModelOnly" class="text-danger mb-4" role="alert"></div>
						@if (Model.RequirePassword)
						{
							<div class="form-floating form-floating-outline mb-4">
								<input asp-for="Input.Password" class="form-control rounded-md" autocomplete="current-password" aria-required="true" placeholder="Password" />
								<label asp-for="Input.Password" class="form-label">Password</label>
								<span asp-validation-for="Input.Password" class="text-danger mt-1 d-block"></span>
							</div>
						}
						<button class="btn btn-danger w-100 py-2 rounded-md shadow-sm" type="submit">Delete Data and Close My Account</button>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

@section Scripts {
	<partial name="_ValidationScriptsPartial" />
}
